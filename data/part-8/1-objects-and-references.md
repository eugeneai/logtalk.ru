---
path: '/part-8/1-component-representation'
title: 'Представление компонент'
hidden: false
---

<text-box variant='learningObjectives' name="Цель освоения материала">

Результатом освоения материала данного раздела будет

- Понимание парадигмы компонентного проектирования и программирования
- Представления компонент средствами языка Logtalk

</text-box>

Разработка больших программных систем практически всегда является сложным и трудоемким процессом, где объектно-ориентированный подход к анализу, проектированию и реализации (программированию) достаточно хорошо себя зарекомендовал.  Проектирование программного обеспечения с использованием компонентного подхода становятся все более и более популярным методом проектирования.  Компонентный подход и unit-тестирование позволяет разрабатывать и поддерживать программные системы планомерно с обеспечением необходимого уровня надежности.  Существует много различных программных инфраструктур и инструментариев разработчика (framework), реализующих компонентное проектирование для разных языков программирования и их средах, некоторые даже не зависят от какой-либо конкретной среды разработки.  Примерами выступают COM, разработанный Microsoft, XPCOM - Mozilla, сроеда программирования DotNet.  Суть компонентного проектирования удобно изучать, неожиданно, в среде программирования языка Python, где в начаде 2000-х была разработана Компонентная архитектура Zope (Zope Component Architecture, ZCA).  ZCA реализует компонентный подход средствами языка Python, позволяет проектировать большие программные системы в этой среде.

**Компоненты** - это объекты, которые предназначены для планомерного повторного использования.  Основная идея компонентного проектирования стостоит в том, чтобы представлять сложные программные системы в виде модулей (объектов, в частности), соединенние друг с другом как кирпичики конструктора "Лего".  "Кирпичики" настроены на конкретный вариант реализации его функций, а их совокупность настроена таким образом, чтобы реализовывать функции программной системы.  Вся вовокупность настроек называется **конфигурацией** компонент программной системы.  Чтобы компоненты могли взаимодействовать друг с другом, их соответствующим образом "оформляют" при помощи *интерфейсов* и их реализацией, а также регистрируют в базе компонент, иногда, называемой *реестром* комопнент, *репозитарием* компонент, *регистр* (*registrar*), *каталог* и т.п.

**Интерфейс** - это объект или языковая конструкция, который описывает как следует взаимодействовать с конкретной компонентой.  В одном из вариантов интерпретации роли интерфейса в компонентных архитектурах предполагается, что **компонента** **оснащает** (обслуживает, **provides**) **интерфейс** или набор интерфейсов, то есть методы, перечисленные в интерфейсе.  Обычно компонентами выступают экземпляры классов, объекты-инкапсуляции (в том числе синглтоны), модули, отдельные функции, оформленные в системе стандартными средствами ассоциации интерфейса с модулем, функцией и т.д.

Компонента **реализуется** (is implemented) в виде класса (class) в языках объективно-ориентированного программирования, основанных на иерархии классов, или копии объекта-прототипа в языках типа JavaScript.  Отличие понятий *оснащение* (provision) от *реализации* (implementation) состоит в том, что *оснащение* осуществляется во время исполнения программной системы, например, вызванный метод исполняется кодом экземпляра некоторого класса.  *Реализация* - представление алгоритма реализации метода средствами языка программирования, в частности, классом.  Реализация относится только к процессу программирования.

Не важно, как реализована компонента, а вот что важно - это то, что она соответствует **требованиям**, определенным в интерфейсе (**interface contract**).  При помощи компонентных архитектур сложность системы распределяется между множеством кооперирующихся компонент.  Механизм кооперации реализуется двумя базовыми разновидностями компонент **адаптерами** (**adapters**) и **утилитами** (utilities).  Утилиты иногда называются *сервисами*.

**Адаптер** - это компонента, оснащающая один интерфейс, использующая другой.  Другими словами, адаптер преобразует один интерейс в другой, как устройства, позвояющие плоские вилки 220в из китая и америки "втыкать" в европейские.

**Утилита** - это компонента, реализующая некоторую часто используемую функцию, например, регистр компонент, соединение с сервером базы данных, фабрики компонент, раздел сайта и т.п.

Так вот, собирая с единую систему компоненты (экземпляры классов, функции, модули и др.), стыкуя их через интерфейсы, конфигурируя компоненты и эту систему, производится проектирование сложных систем.  Причем каждая компонента проектируется таким образом, чтобы ее можно было разрабатывать независимо.  В компонентных архитектурах язык программирования - это, как правило, инструмент реализации компонент, причем инкапсуляция, наследоание, полиморфизм и другие опрации - это только инструменты.  Как конкретно следует в конкретной архитектуре реализовывать компоненты излагается в методических материалах для конкретного языка программирования.

## Компонентное программирование на Logtalk

Для создание компонентной архитектуры необходимо разработать методику проектирования, в частности решить вопросы:

- Как задавать интерфейсы компонент?
- Какие программные объекты могут выступать в качестве компонент?
- Как создавать и порождать компоненты?
- Как регистрировать компоненты, ассоциируя их с интерфейсами?
- Как получать компоненты по идентификатору интерфейса?
- Как конфигурироавть компоненты?
- Как конфигурировать программную систему?

Кроме этих вопросов разрабатываются стандартные утилиты:

- Регистрация и доступ к компонентам.
- Регистрация, передача и генерация сообщений.
